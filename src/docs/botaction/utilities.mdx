---
title: 'Utilities'
---

These higher order functions provide utilities to building Assembly Lines with multiple branching logic. From writing an if statement, to a basic for loop. These functions are both fun to play with and can reduce your overall code, while keeping it all declaratively functional.

The higher-order functions run the assembled actions in a Pipe.

## Given That
```typescript
givenThat(condition: ConditionalBotAction) => 
  (...actions: BotAction<any>[]) => BotAction
```
It's a functional "if statement". Takes an async function, similar to a `BotAction` (same parameters but called a `ConditionalBotAction`) that is expected to return a promise that resolves to a Boolean value. If that promise resolves to `TRUE`, only then, will it run the assembled actions.

The [example Instagram bot](https://github.com/mrWh1te/Botmation/blob/master/src/examples/instagram.ts), uses `givenThat()()`, to attempt login, only if the bot is a Guest on the page then only operates as a logged in User, after checking if the bot is logged in on the page.

## For All
```typescript
forAll(collection: any[] | Dictionary) => 
  (botActionOrActionsFactory: (...args: any[]) => BotAction<any>[] | BotAction<any>) => BotAction
```
It's a functional "forEach loop". This `BotAction` takes a collection, either an array of any type or a simple json object with key/value pairs to iterate with a callback function that returns a Bot Action or an array of Bot Action's to iterate against.

The [screenshotAll()](https://github.com/mrWh1te/Botmation/blob/master/src/botmation/actions/files.ts) Bot Action wraps the `forAll()()` Bot Action, to run `goTo()` and `screenshot()` actions, on a collection of urls provided.

## Do While
```typescript
doWhile(condition: ConditionalBotAction) => 
  (...actions: BotAction<any>[]) => BotAction
```
It's a functional "doWhile loop". It runs the actions first, then checks the condition as to whether or not it should run the actions again. It will keep running the chain of actions in a loop until the condition resolves `FALSE` or rejects.

## For As Long
```typescript
forAsLong(condition: ConditionalBotAction) => 
  (...actions: BotAction[]) => BotAction
```
It's a functional "while loop". It checks the condition before running the actions each time. It stops looping if the condition resolves False or rejects.

## Wait
```typescript
wait(milliseconds: number) => BotAction
```
This Bot Action is not like the others in this group, but a utility never the less. This pauses execution before next Bot Action in an Assembly Line, for the time provided.