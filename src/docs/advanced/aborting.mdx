---
title: Aborting
---

## AbortLine Signal

Sometimes it's necessary to abort an assembly line of BotAction's. Perhaps something is removed from a web page that subsequent BotAction's rely on. When this happens, all a BotAction must do is return an `AbortLineSignal`.

```typescript
type AbortLineSignal = {
  brand: 'Abort_Signal',
  assembledLines: number,
  pipeValue?: PipeValue
}
```

AbortLine Signals are safely created with the [createAbortLineSignal()](/api/abort#createabortlinesignal) helper.

## Assembled Lines Count

An AbortLine Signal has an important property called `assembledLines` which informs the assembler how many lines of assembly to break. One is one line, two is two, three is three and so forth.

The default count of `assembledLines` is one for both the [abort()](/api/abort#abort) BotAction and the [createAbortLineSignal()](/api/abort#createabortlinesignal) helper.

## Infinity AbortLine Signal
It's possible to abort all lines of assembly without knowing how many there are by returning an Infinity AbortLine Signal.

Infinity AbortLine Signals have `assembledLines` set to `0`. When an assembler processes an Infinity AbortLine Signal, it abort what it's doing and returns the same signal without modification.

## Process AbortLine Signal
 
Almost every assembler processes an AbortLine Signal with the [processAbortLineSignal()](/api/abort#processabortlinesignal) helper. It supports all main use-cases of `assembledLines` 0, 1, and 2+.

This is the default aborting behavior for assemblers:

| assembledLines | effect   |
|    -   |         -       |
| 0 | Infinity AbortLine Signal aborts every BotAction and returns itself without change on each abort |
| 1 | Default AbortLine Signal aborts only one line of assembled BotActions and returns the abortLineSignal.pipeValue |
| 2+ | Level specific AbortLine Signal aborts one line of assembled BotActions at a time while reducing its assembledLines count to 1 for final abort  |

Each assembler will detect the value returned by the resolved BotAction for an AbortLine Signal. If it is one, it processes it which follows the table above.

This is the default aborting behavior, and there are exceptions for some BotAction's such as the Utilities, Switch Pipe, and Pipe Case(s).

## Unique Aborting behavior
`switchPipe()()` ignores the default AbortLine Signal (`assembledLines` of `1`), when it hasn't yet received a `CasesSignal` with its condition passed. That's because `abort()` works like `break;` in the traditional `switch(){}` block, when assembled in a [Switch Pipe](/api/assembly-lines#switch-pipe).

> Any BotAction can return an AbortLine Signal, to inform its assembler BotAction to break its line. 

It's possible to break a line of assembly, then restart it with a different setup. Some BotAction's, like Utilities, have unique `AbortLineSignal` behavior that allow the breaking of various parts of a BotAction without breaking the BotAction itself, ie a [forAll()](/api/utilities#for-all) loop iteration (which runs an assembled line of BotActions for each loop iteration) can abort out of a loop iteration as one `assembledLines` and out of the entire loop with two.

## Optional Pipe Value
AbortLine Signal has an optional param called `pipeValue` that can carry a value back to the final assembler. For example, maybe in a line of BotActions, the code determines something vital is missing in the page, which subsequent BotActions rely on. Therefore, the following BotAction's will fail if they run, so to prevent that, the BotAction aborts the assembled line by returning an AbortLine Signal with a `pipeValue` that could distinguish the problem, for the next BotAction to handle.

> The optional `pipeValue` param does not get returned by a [Chain](/api/assembly-lines#chain).